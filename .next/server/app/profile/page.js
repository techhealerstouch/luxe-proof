(()=>{var e={};e.id=636,e.ids=[636],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13320:(e,s,a)=>{Promise.resolve().then(a.bind(a,17199))},13861:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(62688).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17199:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\lagtn\\\\Documents\\\\luxeproof\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\lagtn\\Documents\\luxeproof\\app\\profile\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20919:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>M});var r=a(60687),l=a(43210),t=a(15527),n=a(16189),i=a(52529),o=a(24934),d=a(55192),c=a(68988),u=a(39390),m=a(3018),p=a(85910),x=a(63974),h=a(5336),f=a(35071),w=a(62688);let g=(0,w.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var b=a(13861),y=a(58869);let j=(0,w.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var v=a(43214);let N=[{value:"UTC",label:"GMT+0 (UTC)"},{value:"Pacific/Midway",label:"GMT-11 (Midway Island)"},{value:"Pacific/Honolulu",label:"GMT-10 (Hawaii)"},{value:"America/Anchorage",label:"GMT-9 (Alaska)"},{value:"America/Los_Angeles",label:"GMT-8 (Pacific Time)"},{value:"America/Denver",label:"GMT-7 (Mountain Time)"},{value:"America/Chicago",label:"GMT-6 (Central Time)"},{value:"America/New_York",label:"GMT-5 (Eastern Time)"},{value:"America/Caracas",label:"GMT-4 (Venezuela)"},{value:"America/Sao_Paulo",label:"GMT-3 (Brazil)"},{value:"Atlantic/South_Georgia",label:"GMT-2 (South Georgia)"},{value:"Atlantic/Azores",label:"GMT-1 (Azores)"},{value:"Europe/London",label:"GMT+0 (London)"},{value:"Europe/Paris",label:"GMT+1 (Central European Time)"},{value:"Europe/Athens",label:"GMT+2 (Eastern European Time)"},{value:"Europe/Moscow",label:"GMT+3 (Moscow)"},{value:"Asia/Dubai",label:"GMT+4 (Dubai)"},{value:"Asia/Karachi",label:"GMT+5 (Pakistan)"},{value:"Asia/Kolkata",label:"GMT+5:30 (India)"},{value:"Asia/Dhaka",label:"GMT+6 (Bangladesh)"},{value:"Asia/Bangkok",label:"GMT+7 (Thailand)"},{value:"Asia/Shanghai",label:"GMT+8 (China/Philippines)"},{value:"Asia/Tokyo",label:"GMT+9 (Japan)"},{value:"Australia/Sydney",label:"GMT+10 (Australia East)"},{value:"Pacific/Noumea",label:"GMT+11 (New Caledonia)"},{value:"Pacific/Auckland",label:"GMT+12 (New Zealand)"}],P=v.Ik({name:v.Yj().min(1,"Full name is required"),email:v.Yj().email("Invalid email address"),phone_number:v.Yj().optional(),timezone:v.Yj().min(1,"Timezone is required"),businessName:v.Yj().min(1,"Account name is required"),businessSlug:v.Yj().optional()}),A=v.Ik({currentPassword:v.Yj().min(1,"Current password is required"),newPassword:v.Yj().min(8,"New password must be at least 8 characters"),confirmPassword:v.Yj().min(1,"Please confirm your new password")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords do not match",path:["confirmPassword"]}),T=({message:e})=>e?(0,r.jsx)(m.Fc,{className:`mb-4 ${"error"===e.type?"border-red-500":"border-green-500"}`,children:(0,r.jsxs)(m.TN,{className:"flex items-center gap-2",children:["success"===e.type?(0,r.jsx)(h.A,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(f.A,{className:"h-4 w-4 text-red-500"}),e.text]})}):null,C=({id:e,value:s,onChange:a,show:l,onToggle:t,label:n})=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:e,children:n}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.p,{id:e,type:l?"text":"password",className:"rounded-xl pr-10",value:s,onChange:e=>a(e.target.value)}),(0,r.jsx)("button",{type:"button",onClick:t,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:l?(0,r.jsx)(g,{size:18}):(0,r.jsx)(b.A,{size:18})})]})]});function M(){let{user:e,updateUser:s,changePassword:a}=(0,t.A)();(0,n.useRouter)();let[m,h]=(0,l.useState)({name:"",phone_number:"",timezone:"",businessName:"",businessSlug:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[f,w]=(0,l.useState)({profile:null,password:null}),[g,b]=(0,l.useState)(!1),[v,M]=(0,l.useState)(!1),[k,G]=(0,l.useState)({current:!1,new:!1,confirm:!1}),z=(0,l.useMemo)(()=>[{text:"Minimum 8 characters",met:m.newPassword.length>=8},{text:"Passwords must match",met:m.newPassword&&m.confirmPassword&&m.newPassword===m.confirmPassword}],[m.newPassword,m.confirmPassword]),q=(0,l.useCallback)((e,s)=>{console.log(`Updating ${e} to:`,s),h(a=>({...a,[e]:s}))},[]),_=(0,l.useCallback)(e=>{G(s=>({...s,[e]:!s[e]}))},[]),S=(0,l.useCallback)((e,s)=>{w(a=>({...a,[e]:s}))},[]),U=async e=>{e.preventDefault(),S("profile",null);let a=P.safeParse(m);if(!a.success){S("profile",{type:"error",text:a.error.errors[0].message});return}b(!0);try{await s({name:m.name,email:m.email,phone_number:m.phone_number,timezone:m.timezone,businessName:m.businessName,businessSlug:m.businessSlug}),S("profile",{type:"success",text:"Profile updated successfully!"})}catch(e){S("profile",{type:"error",text:e.message||"Failed to update profile"})}finally{b(!1)}},E=async e=>{e.preventDefault(),S("password",null);let s=A.safeParse({currentPassword:m.currentPassword,newPassword:m.newPassword,confirmPassword:m.confirmPassword});if(!s.success){S("password",{type:"error",text:s.error.errors[0].message});return}b(!0);try{await a(m.currentPassword,m.newPassword,m.confirmPassword),S("password",{type:"success",text:"Password updated successfully!"}),h(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""})),G({current:!1,new:!1,confirm:!1})}catch(e){S("password",{type:"error",text:e.response?.data?.message||e.message||"Failed to update password"})}finally{b(!1)}};return e?(0,r.jsx)(i.A,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Profile"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"manage your profile and account security"})]}),(0,r.jsxs)(p.tU,{defaultValue:"profile",className:"space-y-6",children:[(0,r.jsxs)(p.j7,{className:"grid w-full grid-cols-2",children:[(0,r.jsxs)(p.Xi,{value:"profile",className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),"Profile"]}),(0,r.jsxs)(p.Xi,{value:"password",className:"flex items-center gap-2",children:[(0,r.jsx)(j,{className:"h-4 w-4"}),"Password"]})]}),(0,r.jsx)(p.av,{value:"profile",className:"space-y-6",children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Profile Information"}),(0,r.jsx)(d.BT,{children:"Update your personal and business information"})]}),(0,r.jsxs)(d.Wu,{children:[(0,r.jsx)(T,{message:f.profile}),(0,r.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"name",children:"Full Name"}),(0,r.jsx)(c.p,{id:"name",type:"text",className:"rounded-xl",value:m.name,onChange:e=>q("name",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"email",children:"Email Address"}),(0,r.jsx)(c.p,{id:"email",type:"email",className:"rounded-xl",disabled:!0,value:m.email})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"phone_number",children:"Phone Number (Optional)"}),(0,r.jsx)(c.p,{id:"phone_number",type:"tel",className:"rounded-xl",value:m.phone_number,onChange:e=>q("phone_number",e.target.value),placeholder:"Your phone number"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"timezone",children:"Timezone"}),v?(0,r.jsxs)(x.l6,{value:m.timezone,onValueChange:e=>{console.log("Select onValueChange called with:",e),e&&e!==m.timezone&&q("timezone",e)},children:[(0,r.jsx)(x.bq,{className:"rounded-xl",children:(0,r.jsx)(x.yv,{placeholder:"Select your timezone"})}),(0,r.jsx)(x.gC,{children:N.map(e=>(0,r.jsx)(x.eb,{value:e.value,children:e.label},e.value))})]}):(0,r.jsx)("div",{className:"h-10 rounded-xl border border-input bg-background px-3 py-2 text-sm text-muted-foreground flex items-center",children:"Loading timezone..."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"businessName",children:"Account Name"}),(0,r.jsx)(c.p,{id:"businessName",type:"text",className:"rounded-xl",value:m.businessName,onChange:e=>q("businessName",e.target.value),placeholder:"Your account name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"businessSlug",children:"Business Slug"}),(0,r.jsx)(c.p,{id:"businessSlug",type:"text",className:"rounded-xl",value:m.businessSlug,onChange:e=>q("businessSlug",e.target.value),placeholder:"Your business slug"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{className:"text-sm font-medium text-muted-foreground",children:"Role"}),(0,r.jsx)("p",{className:"text-sm capitalize bg-muted px-3 py-2 rounded-xl",children:e.role})]}),(0,r.jsx)(o.$,{type:"submit",disabled:g,className:"rounded-xl w-full md:w-auto",children:g?"Updating...":"Update Profile"})]})]})]})}),(0,r.jsx)(p.av,{value:"password",className:"space-y-6",children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Change Password"}),(0,r.jsx)(d.BT,{children:"Update your password to keep your account secure"})]}),(0,r.jsxs)(d.Wu,{children:[(0,r.jsx)(T,{message:f.password}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,r.jsx)(C,{id:"currentPassword",label:"Current Password",value:m.currentPassword,onChange:e=>q("currentPassword",e),show:k.current,onToggle:()=>_("current")}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(C,{id:"newPassword",label:"New Password",value:m.newPassword,onChange:e=>q("newPassword",e),show:k.new,onToggle:()=>_("new")}),(0,r.jsx)(C,{id:"confirmPassword",label:"Confirm New Password",value:m.confirmPassword,onChange:e=>q("confirmPassword",e),show:k.confirm,onToggle:()=>_("confirm")})]}),(0,r.jsxs)("div",{className:"bg-muted/50 p-4 rounded-xl",children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Password Requirements:"}),(0,r.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:z.map((e,s)=>(0,r.jsxs)("li",{className:e.met?"text-green-500":"",children:["â€¢ ",e.text]},s))})]}),(0,r.jsx)(o.$,{type:"submit",disabled:g,className:"rounded-xl w-full md:w-auto",children:g?"Updating...":"Change Password"})]})]})]})})]})]})}):null}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32882:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),l=a(48088),t=a(88170),n=a.n(t),i=a(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let d={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,17199)),"C:\\Users\\lagtn\\Documents\\luxeproof\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"C:\\Users\\lagtn\\Documents\\luxeproof\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\lagtn\\Documents\\luxeproof\\app\\profile\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},35071:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(62688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58869:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,s,a)=>{"use strict";a.d(s,{bq:()=>m,eb:()=>f,gC:()=>h,l6:()=>c,mi:()=>w,yv:()=>u});var r=a(60687),l=a(43210),t=a(25911),n=a(78272),i=a(3589),o=a(13964),d=a(96241);let c=t.bL;t.YJ;let u=t.WT,m=l.forwardRef(({className:e,children:s,...a},l)=>(0,r.jsxs)(t.l9,{ref:l,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,r.jsx)(t.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=t.l9.displayName;let p=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));p.displayName=t.PP.displayName;let x=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=t.wn.displayName;let h=l.forwardRef(({className:e,children:s,position:a="popper",...l},n)=>(0,r.jsx)(t.ZL,{children:(0,r.jsxs)(t.UC,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[(0,r.jsx)(p,{}),(0,r.jsx)(t.LM,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(x,{})]})}));h.displayName=t.UC.displayName,l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=t.JU.displayName;let f=l.forwardRef(({className:e,children:s,...a},l)=>(0,r.jsxs)(t.q7,{ref:l,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(t.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(t.p4,{children:s})]}));f.displayName=t.q7.displayName;let w=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));w.displayName=t.wv.displayName},74075:e=>{"use strict";e.exports=require("zlib")},76872:(e,s,a)=>{Promise.resolve().then(a.bind(a,20919))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[193,751,969,790,856,911,214,874,592],()=>a(32882));module.exports=r})();