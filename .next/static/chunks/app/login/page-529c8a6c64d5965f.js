(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{24904:(e,a,t)=>{Promise.resolve().then(t.bind(t,78007))},51154:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},76037:(e,a,t)=>{"use strict";t.d(a,{Separator:()=>n});var r=t(95155),s=t(12115),l=t(87489),i=t(53999);let n=s.forwardRef((e,a)=>{let{className:t,orientation:s="horizontal",decorative:n=!0,...c}=e;return(0,r.jsx)(l.b,{ref:a,decorative:n,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...c})});n.displayName=l.b.displayName},78007:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var r=t(95155),s=t(35695),l=t(6874),i=t.n(l),n=t(97168),c=t(88482),o=t(76037),d=t(66766),u=t(12115),x=t(94861),h=t(88006),m=t(49026),f=t(85339),p=t(10072);function g(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function w(e){let a=new TextEncoder().encode(e);return g(new Uint8Array(await window.crypto.subtle.digest("SHA-256",a)))}function j(){let e=(0,s.useRouter)(),a=(0,s.useSearchParams)(),{user:t,isLoading:l}=(0,x.A)(),[j,b]=(0,u.useState)(null),[N,y]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let r=a.get("error");if(r)switch(r){case"oauth_failed":b("OAuth authentication failed. Please try again.");break;case"no_code":b("Authentication incomplete. Please try again.");break;case"auth_failed":b("Authentication failed. Please check your credentials.");break;default:b("An error occurred. Please try again.")}if(!l&&t){let t=a.get("from")||"/dashboard";e.push(t)}},[t,l,e,a]);let v=async()=>{y(!0);let e=function(){let e=new Uint8Array(32);return window.crypto.getRandomValues(e),g(e)}(),a=await w(e);localStorage.setItem("pkce_code_verifier",e);let t=new URLSearchParams({response_type:"code",client_id:"01998003-aa09-70b2-a106-1fd34098f380",redirect_uri:"".concat("https://stgapp.luxeproof.com","/auth/callback"),scope:"",code_challenge:a,code_challenge_method:"S256"}),r="".concat("https://stg.luxevipsuite.com","/oauth/authorize?").concat(t.toString());window.location.href=r};return l||t?(0,r.jsx)(h.n,{}):N?(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center flex-col gap-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-700"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Redirecting to Lux Suite..."})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row bg-white rounded-2xl shadow-lg overflow-hidden w-full max-w-4xl",children:[(0,r.jsx)("div",{className:"relative w-full md:w-1/2 h-48 md:h-auto",children:(0,r.jsx)(d.default,{src:"/images/watch-login.png",alt:"Login illustration",fill:!0,className:"object-cover",priority:!0})}),(0,r.jsx)("div",{className:"flex items-center justify-center w-full md:w-1/2 p-8",children:(0,r.jsxs)(c.Zp,{className:"w-full border-none shadow-none",children:[(0,r.jsxs)(c.aR,{className:"space-y-1",children:[(0,r.jsx)(c.ZB,{className:"text-center text-3xl font-extrabold tracking-tight text-gray-900",children:(0,r.jsx)(p.A,{width:350,height:80,className:"mx-auto"})}),(0,r.jsx)(c.BT,{className:"text-left leading-relaxed text-center",children:"To access your personalized dashboard and manage your Lux Suite account"})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6",children:[j&&(0,r.jsxs)(m.Fc,{variant:"destructive",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)(m.TN,{children:j})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)(o.Separator,{className:"w-full"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Continue with"})})]}),(0,r.jsx)(n.$,{variant:"outline",type:"button",className:"w-full rounded-xl bg-main-bg",onClick:v,disabled:N,children:N?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}),"Redirecting..."]}):"Log-in with Lux Suite"})]}),(0,r.jsx)(c.wL,{className:"flex flex-col items-center space-y-4",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Need support?"," ",(0,r.jsx)(i(),{href:"/support",className:"underline",children:"Contact our help team"})]})})]})})]})})}},87489:(e,a,t)=>{"use strict";t.d(a,{b:()=>o});var r=t(12115),s=t(63655),l=t(95155),i="horizontal",n=["horizontal","vertical"],c=r.forwardRef((e,a)=>{var t;let{decorative:r,orientation:c=i,...o}=e,d=(t=c,n.includes(t))?c:i;return(0,l.jsx)(s.sG.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:a})});c.displayName="Separator";var o=c},88006:(e,a,t)=>{"use strict";t.d(a,{n:()=>l});var r=t(95155),s=t(51154);function l(){return(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center flex-col gap-4 bg-background",children:[(0,r.jsx)(s.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[803,374,356,208,15,441,684,358],()=>a(24904)),_N_E=e.O()}]);