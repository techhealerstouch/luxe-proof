(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1154:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4904:(e,a,t)=>{Promise.resolve().then(t.bind(t,8007))},6037:(e,a,t)=>{"use strict";t.d(a,{Separator:()=>i});var r=t(5155),s=t(2115),l=t(7489),n=t(3999);let i=s.forwardRef((e,a)=>{let{className:t,orientation:s="horizontal",decorative:i=!0,...c}=e;return(0,r.jsx)(l.b,{ref:a,decorative:i,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...c})});i.displayName=l.b.displayName},7489:(e,a,t)=>{"use strict";t.d(a,{b:()=>o});var r=t(2115),s=t(3655),l=t(5155),n="horizontal",i=["horizontal","vertical"],c=r.forwardRef((e,a)=>{var t;let{decorative:r,orientation:c=n,...o}=e,d=(t=c,i.includes(t))?c:n;return(0,l.jsx)(s.sG.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:a})});c.displayName="Separator";var o=c},8006:(e,a,t)=>{"use strict";t.d(a,{n:()=>l});var r=t(5155),s=t(1154);function l(){return(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center flex-col gap-4 bg-background",children:[(0,r.jsx)(s.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}},8007:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(5155),s=t(5695),l=t(6874),n=t.n(l),i=t(7168),c=t(8482),o=t(6037),d=t(6766),u=t(2115),h=t(4861),x=t(8006),m=t(9026),f=t(5339),p=t(72);function g(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function w(e){let a=new TextEncoder().encode(e);return g(new Uint8Array(await window.crypto.subtle.digest("SHA-256",a)))}function b(){let e=(0,s.useRouter)(),a=(0,s.useSearchParams)(),{user:t,isLoading:l}=(0,h.A)(),[b,j]=(0,u.useState)(null),[N,y]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let r=a.get("error");if(r)switch(r){case"oauth_failed":j("OAuth authentication failed. Please try again.");break;case"no_code":j("Authentication incomplete. Please try again.");break;case"auth_failed":j("Authentication failed. Please check your credentials.");break;default:j("An error occurred. Please try again.")}if(!l&&t){let t=a.get("from")||"/dashboard";e.push(t)}},[t,l,e,a]);let v=async()=>{y(!0);let e=function(){let e=new Uint8Array(32);return window.crypto.getRandomValues(e),g(e)}(),a=await w(e);localStorage.setItem("pkce_code_verifier",e);let t=new URLSearchParams({response_type:"code",client_id:"0198ac9b-cb66-7261-b733-6cb6432c26c7",redirect_uri:"".concat("http://localhost:3001","/auth/callback"),scope:"",code_challenge:a,code_challenge_method:"S256"}),r="".concat("http://localhost:8000","/oauth/authorize?").concat(t.toString());window.location.href=r};return l||t?(0,r.jsx)(x.n,{}):N?(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center flex-col gap-4 bg-gray-50",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-700"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Redirecting to Lux Suite..."})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row bg-white rounded-2xl shadow-lg overflow-hidden w-full max-w-4xl",children:[(0,r.jsx)("div",{className:"relative w-full md:w-1/2 h-48 md:h-auto",children:(0,r.jsx)(d.default,{src:"/images/watch-login.png",alt:"Login illustration",fill:!0,className:"object-cover",priority:!0})}),(0,r.jsx)("div",{className:"flex items-center justify-center w-full md:w-1/2 p-8",children:(0,r.jsxs)(c.Zp,{className:"w-full border-none shadow-none",children:[(0,r.jsxs)(c.aR,{className:"space-y-1",children:[(0,r.jsx)(c.ZB,{className:"text-center text-3xl font-extrabold tracking-tight text-gray-900",children:(0,r.jsx)(p.A,{width:350,height:80,className:"mx-auto"})}),(0,r.jsx)(c.BT,{className:"text-left leading-relaxed text-center",children:"To access your personalized dashboard and manage your Lux Suite account"})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6",children:[b&&(0,r.jsxs)(m.Fc,{variant:"destructive",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)(m.TN,{children:b})]}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)(o.Separator,{className:"w-full"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Continue with"})})]}),(0,r.jsx)(i.$,{variant:"outline",type:"button",className:"w-full rounded-xl bg-main-bg",onClick:v,disabled:N,children:N?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}),"Redirecting..."]}):"Log-in with Lux Suite"})]}),(0,r.jsx)(c.wL,{className:"flex flex-col items-center space-y-4",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Need support?"," ",(0,r.jsx)(n(),{href:"/support",className:"underline",children:"Contact our help team"})]})})]})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[803,374,356,208,15,441,684,358],()=>a(4904)),_N_E=e.O()}]);